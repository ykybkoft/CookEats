<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<link rel="stylesheet" type="text/css" th:href="@{/home.css}">
<link rel="stylesheet" type="text/css" th:href="@{/css/home.css}">
<head>
    <meta charset="UTF-8">
    <title>검색 결과</title>
</head>
<body>
<h1>검색 결과</h1>
<table>
    <thead>
    <tr>
        <th>순서</th>
        <th>제목</th>
        <th>작성자</th>
        <th>날짜</th>
        <th>조회수</th>
        <th>추천수</th>
    </tr>
    </thead>
    <tbody>
    <tr th:each="i : ${page.content}">
        <td th:text="${i.id}"></td>
        <td><a th:href="@{/boardNormal/articles/{id}(id=${i.id})}" th:text="${i.title}"></a></td>
        <td th:text="${i.member != null ? i.member.username : '작성자 정보 없음'}"></td>
        <td th:text="${i.formattedSysDate}"></td>
        <td th:text="${i.views}"></td>
        <td th:text="${i.likes}"></td>
    </tr>
    </tbody>
</table>

<!-- 페이지 네비게이션 -->
<nav aria-label="Page navigation">
    <ul class="pagination">
        <!-- 이전 페이지 버튼 -->
        <li class="pagination" th:classappend="${page.hasPrevious()} ? '' : 'disabled'">
            <a class="page-link" th:href="@{${page.hasPrevious()} ? '/boardNormal/search?page=' + ${page.number - 1} : '#'}" aria-label="Previous">
                <span aria-hidden="true">&laquo;</span>
            </a>
        </li>

        <!-- 페이지 번호 -->
        <li class="pagination" th:each="pageNum : ${#numbers.sequence(0, page.totalPages - 1)}"
            th:classappend="${pageNum} == ${page.number} ? 'active' : ''">
            <a class="page-link" th:href="@{/boardNormal/search(page=${pageNum}, keyword=${keyword}, sort=${sort})}" th:text="${pageNum + 1}">1</a>
        </li>

        <!-- 다음 페이지 버튼 -->
        <li class="pagination" th:classappend="${page.hasNext()} ? '' : 'disabled'">
            <a class="page-link" th:href="@{${page.hasNext()} ? '/boardNormal/search?page=' + ${page.number + 1} : '#'}" aria-label="Next">
                <span aria-hidden="true">&raquo;</span>
            </a>
        </li>
    </ul>
</nav>

</body>
</html>
